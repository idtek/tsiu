<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>UDT Reference</title>
</head>

<body>

<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" width="100%" id="table2" bgcolor="#99CCFF" bordercolor="#99CCFF">
  <tr>
    <td width="100%"><font face="Verdana" size="2"><i>&nbsp;UDT Reference: UDT 
	Functions</i></font></td>
  </tr>
</table>
<h1 style="margin-bottom: 0"><font face="Verdana" size="4">perfmon</font></h1>
<p><font face="Verdana" size="2">The <b>perfmon </b>method 
retrieve<span lang="zh-cn">s the internal protocol parameters and performance trace</span>.</font></p>
<table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" width="100%" id="table3" bgcolor="#C0C0C0" bordercolor="#C0C0C0">
  <tr>
    <td width="100%">
    <p style="margin-top: 0; margin-bottom: 0">
	<font face="Courier New" size="1">int perfmon(</font></p>
	<p style="margin-top: 0; margin-bottom: 0">
	<font face="Courier New" size="1">&nbsp;&nbsp; UDTSOCKET
	<font color="#FFFFFF">u</font>,</font></p>
	<p style="margin-top: 0; margin-bottom: 0">
	<font face="Courier New" size="1">&nbsp;&nbsp; TRACEINFO*
	<font color="#FFFFFF">perf,</font></font></p>
	<p style="margin-top: 0; margin-bottom: 0">
	<font face="Courier New" size="1" color="#FFFFFF">&nbsp;&nbsp; </font>
	<font face="Courier New" size="1">bool</font><font face="Courier New" size="1" color="#FFFFFF">
	</font><font face="Courier New" size="1"><font color="#FFFFFF">clear</font> =</font><font face="Courier New" size="1" color="#FFFFFF"> 
	</font><font face="Courier New" size="1"> 
	true<br>
    );</font></p>
    </td>
  </tr>
</table>
<h4><font face="Verdana" size="2">Parameters</font></h4>
<dl>
		<dt><font size="2" face="Verdana">
		<i>u</i>
		</font> </dt>
		<dd><font face="Verdana" size="2">[in] The socket descriptor of an UDT 
		entity.</font></dd>
		<dt><span lang="zh-cn"><i><font face="Verdana" size="2">trace</font></i></span></dt>
  <dd><font face="Verdana" size="2">[out] Pointer to <span lang="zh-cn">the </span>structure 
	to store the performance trace information.</font></dd>
		<dt><i><font face="Verdana" size="2">clear</font></i></dt>
  <dd><font face="Verdana" size="2">[in] Flag to indicates if the local traces 
	should be cleared. &quot;true&quot; will clear the trace and restart the count.</font></dd>
</dl>
<h4><font face="Verdana" size="2">Return Values</font></h4>
<p><font face="Verdana" size="2">On success, 0 is returned; Otherwise, UDT::ERROR 
is returned and the specific error information can be retrieved by
<a href="error.htm">getlasterror</a>.</font></p>
  <table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse" id="table4" bordercolordark="#C0C0C0" bordercolorlight="#C0C0C0" width="100%">
    <tr>
      <th align="center" bgcolor="#C0C0C0" width="133">
		<font face="Verdana" size="2">Error Code</font></th>
      <th align="center" bgcolor="#C0C0C0" width="812"><b>
      <font face="Verdana" size="2">Comment</font></b></th>
    </tr>
    <tr>
      <td width="133">
      <p style="margin-top: 1; margin-bottom: 1"><font face="Verdana" size="1">
		2001</font></td>
      <td width="812">
      <p style="margin-top: 1; margin-bottom: 1"><font face="Verdana" size="1">
		connection was broken.</font></td>
    </tr>
    <tr>
      <td width="133">
      <p style="margin-top: 1; margin-bottom: 1"><font face="Verdana" size="1">
		5004</font></td>
      <td width="812">
      <p style="margin-top: 1; margin-bottom: 1"><font face="Verdana" size="1">
		<i>u</i> 
		is an invalid UDT socket.</font></td>
    </tr>
    <tr>
      <td width="133">
      <p style="margin-top: 1; margin-bottom: 1"><font face="Verdana" size="1">
		5005</font></td>
      <td width="812">
      <p style="margin-top: 1; margin-bottom: 1"><font face="Verdana" size="1">
		<i>u</i> 
		is not connected.</font></td>
    </tr>
    </table>
<H4><font face="Verdana" size="2">Description</font></H4>
<p><font face="Verdana" size="2"><b>perfmon</b> reads the the performance data since 
last time <b>perfmon</b> is executed, or since the connection start time for the first 
<b>perfmon</b> call. The result is written in the 
<a href="structure.htm#TRACEINFO"><i>perf</i> structure</a>.</font></p>
<p><font face="Verdana" size="2"><b>perfmon</b> may have slightly negative effect on 
the performance, so it is recommended not to enable this function in 
productivity applications.</font></p>

</body>

</html>
